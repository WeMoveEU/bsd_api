{"query":"
SELECT m.id, m.name, subject, scheduled_date as date, m.created_id as owner_id, campaign_id,
  camp.name as campaign, camp.external_identifier, campaign_type_id,
  createdContact.first_name AS owner,
  r.value AS recipients,
  o.value AS open,
  c.value AS click,
  signs.value AS sign,
  shares.value AS share,
  vsigns.value AS viral_sign,
  vshares.value AS viral_share
FROM civicrm_mailing as m
LEFT JOIN civicrm_campaign as camp ON m.campaign_id = camp.id
LEFT JOIN civicrm_contact createdContact ON ( m.created_id = createdContact.id )
LEFT JOIN data_mailing_counter r ON r.mailing_id=m.id AND r.counter='recipients' AND r.timebox=0
LEFT JOIN data_mailing_counter o ON o.mailing_id=m.id AND o.counter='opens' AND o.timebox=144000
LEFT JOIN data_mailing_counter c ON c.mailing_id=m.id AND c.counter='clicks' AND c.timebox=144000
LEFT JOIN data_mailing_counter signs ON signs.mailing_id=m.id AND signs.counter='direct_signs' AND signs.timebox=144000
LEFT JOIN data_mailing_counter shares ON shares.mailing_id=m.id AND shares.counter='direct_shares' AND shares.timebox=144000
LEFT JOIN data_mailing_counter vsigns ON vsigns.mailing_id=m.id AND vsigns.counter='viral_signs' AND vsigns.timebox=144000
LEFT JOIN data_mailing_counter vshares ON vshares.mailing_id=m.id AND vshares.counter='viral_shares' AND vshares.timebox=144000
WHERE is_completed = true;
","params":{"1":{"name":"campaign_id","type":"Integer"}}}
